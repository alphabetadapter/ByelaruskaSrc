@page "/belarusian-to-chinese"

<PageTitle>Belarusian -> Chinese</PageTitle>

<textarea 
    onkeydown="textControl(this,event)"
    class="form-control" 
    id="textarea1" 
    value="@BelarusianTxt" 
    maxlength="4000" 
    @oninput="@((ChangeEventArgs e) => ChineseTxt = GetValue(e?.Value?.ToString() ?? string.Empty))" />

<textarea 
    onkeydown="textControl(this,event)"
    class="form-control" 
    id="textarea2" 
    maxlength="4000" >@ChineseTxt</textarea>

@code {

    private string? ChineseTxt { get; set; }
    private string? BelarusianTxt { get; set; }

    private string GetValue(string BelarusianValue)
    {
        var tmpString = BelarusianValue.ToLower() ?? string.Empty;
        var letterCombinations = GetLetterCombinations();
        var singleLetters = GetSingleLetters();
        foreach (var lc in letterCombinations)
        {
            tmpString = tmpString.Replace(lc.Key, lc.Value);
        }
        foreach (var sl in singleLetters)
        {
            tmpString = tmpString.Replace(sl.Key, sl.Value);
        }
        return tmpString;
    }

    private IDictionary<string, string> GetLetterCombinations()
    {
        var dict = new Dictionary<string, string>();

        // Belarusian (BGN PCGN 1979) Latin
        // Chinese (Simplified, China, 五, 五笔)
        // Google Input Tools
        // https://www.google.com/inputtools/chrome/		
        //                        // keyboard:
        dict.Add("е", "主有");    // y e
        dict.Add("ё", "主为");    // y o
        dict.Add("ж", "你上");    // zz h
        dict.Add("ц", "和要");    // t s
        dict.Add("ч", "以上");    // c h
        dict.Add("ш", "要上");    // s h
        dict.Add("ю", "主产");    // y u
        dict.Add("я", "主工");    // y a
        dict.Add("x", "中上");    // k h
        dict.Add("'", "-"); 
        return dict;
    }
    private IDictionary<string, string> GetSingleLetters()
    {
        var dict = new Dictionary<string, string>();

        // Belarusian (BGN PCGN 1979) Latin
        // г = g
        // й = j
        // Chinese (Simplified, China, 五, 五笔)
        // Google Input Tools
        // https://www.google.com/inputtools/chrome/		
        //                       // keyboard:
        dict.Add("а", "工");     // a
        dict.Add("б", "了");     // b
        dict.Add("в", "发");     // v
        dict.Add("г", "一");     // g
        dict.Add("д", "在");     // d
        dict.Add("з", "你");     // zz
        dict.Add("і", "不");     // i
        dict.Add("й", "是");     // j
        dict.Add("к", "中");     // k
        dict.Add("л", "国");     // l
        dict.Add("м", "同");     // m
        dict.Add("н", "民");     // n
        dict.Add("о", "为");     // o
        dict.Add("п", "这");     // p
        dict.Add("р", "的");     // r
        dict.Add("с", "要");     // s
        dict.Add("т", "和");     // t
        dict.Add("у", "产");     // u
        dict.Add("ў", "人");     // w
        dict.Add("ф", "地");     // f
        dict.Add("ы", "主");     // y
        dict.Add("э", "有");     // e
        dict.Add("ь", "'");
        dict.Add(",", "，");
        dict.Add(".", "。");
        dict.Add("(", "（");
        dict.Add(")", "）");
        dict.Add(";", "；");
        dict.Add("[", "【");
        dict.Add("]", "】");
        dict.Add(":", "：");
        dict.Add("!", "！");
        dict.Add("?", "？");
		dict.Add(">", "》");
		dict.Add("<", "《");
        return dict;
    }
}