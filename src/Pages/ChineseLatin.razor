@page "/Chinese-to-Latin"

<PageTitle>Chinese -> Latin</PageTitle>

<textarea 
    onkeydown="textControl(this,event)"
    class="form-control" 
    id="textarea1" 
    value="@ChineseTxt" 
    maxlength="4000" 
    @oninput="@((ChangeEventArgs e) => LatinTxt = GetValue(e?.Value?.ToString() ?? string.Empty))" />

<textarea 
    onkeydown="textControl(this,event)"
    class="form-control" 
    id="textarea2" 
    maxlength="4000" >@LatinTxt</textarea>

@code {

    private string? ChineseTxt { get; set; }
    private string? LatinTxt { get; set; }

    private string GetValue(string ChineseValue)
    {
        var tmpString = ChineseValue ?? string.Empty;
        var upperCase = GetUpperCase();
        var singleLetters = GetSingleLetters();
        foreach (var uc in upperCase)
        {
            tmpString = tmpString.Replace(uc.Key, uc.Value);
        }
        foreach (var sl in singleLetters)
        {
            tmpString = tmpString.Replace(sl.Key, sl.Value);
        }
        return tmpString;
    }

    private IDictionary<string, string> GetUpperCase()
    {
        var dict = new Dictionary<string, string>();

        // Belarusian (BGN PCGN 1979) Latin
        // Chinese (Simplified, China, 五, 五笔)
        // Google Input Tools
        // https://www.google.com/inputtools/chrome/		
        //                        // keyboard:
        dict.Add("多工", "A");		// qq a
        dict.Add("多了", "B");		// qq b
        dict.Add("多以", "C");		// qq c
        dict.Add("多在", "D");		// qq d
        dict.Add("多有", "E");		// qq e
        dict.Add("多地", "F");		// qq f
        dict.Add("多一", "G");		// qq g
        dict.Add("多上", "H");		// qq h
        dict.Add("多不", "I");		// qq i
        dict.Add("多是", "J");		// qq j
        dict.Add("多中", "K");		// qq k
        dict.Add("多国", "L");		// qq l
        dict.Add("多同", "M");		// qq m
        dict.Add("多民", "N");		// qq n
        dict.Add("多为", "O");		// qq o
        dict.Add("多这", "P");		// qq p
        dict.Add("多我", "Q");		// qq q
        dict.Add("多的", "R");		// qq r
        dict.Add("多要", "S");		// qq s
        dict.Add("多和", "T");		// qq t
        dict.Add("多产", "U");		// qq u
        dict.Add("多发", "V");		// qq v
        dict.Add("多人", "W");		// qq w
        dict.Add("多经", "X");		// qq x
        dict.Add("多主", "Y");		// qq y
        dict.Add("多你", "Z");		// qq zz
        return dict;
    }

    private IDictionary<string, string> GetSingleLetters()
    {
        var dict = new Dictionary<string, string>();

        // Chinese (Simplified, China, 五, 五笔)
        // Google Input Tools
        // https://www.google.com/inputtools/chrome/
        //                      // keyboard:
        dict.Add("工", "a");		// a
        dict.Add("了", "b");		// b
        dict.Add("以", "c");		// c
        dict.Add("在", "d");		// d
        dict.Add("有", "e");		// e
        dict.Add("地", "f");		// f
        dict.Add("一", "g");		// g
        dict.Add("上", "h");		// h
        dict.Add("不", "i");		// i
        dict.Add("是", "j");		// j
        dict.Add("中", "k");		// k
        dict.Add("国", "l");		// l
        dict.Add("同", "m");		// m
        dict.Add("民", "n");		// n
        dict.Add("为", "o");		// o
        dict.Add("这", "p");		// p
        dict.Add("我", "q");		// q
        dict.Add("的", "r");		// r
        dict.Add("要", "s");		// s
        dict.Add("和", "t");		// t
        dict.Add("产", "u");		// u
        dict.Add("发", "v");		// v
        dict.Add("人", "w");		// w
        dict.Add("经", "x");		// x
        dict.Add("主", "y");		// y
        dict.Add("你", "z");		// zz
        dict.Add("‘", "'");
        dict.Add("'", "'");
        dict.Add("－", "-");
        dict.Add("-", "-");
        dict.Add("，", ",");
        dict.Add("。", ".");
        dict.Add("（", "(");
        dict.Add("）", ")");
        dict.Add("；", ";");
        dict.Add("【", "[");
        dict.Add("】", "]");
        dict.Add("：", ":");
        dict.Add("！", "!");
        dict.Add("？", "?");
        dict.Add("》", ">");
        dict.Add("《", "<");

        return dict;
    }
}