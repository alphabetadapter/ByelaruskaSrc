@page "/Chinese-to-Belarusian"

<PageTitle>Chinese -> Belarusian</PageTitle>

<textarea 
    onkeydown="textControl(this,event)"
    class="form-control" 
    id="textarea1" 
    value="@ChineseTxt" 
    maxlength="4000" 
    @oninput="@((ChangeEventArgs e) => BelarusianTxt = GetValue(e?.Value?.ToString() ?? string.Empty))" />

<textarea 
    onkeydown="textControl(this,event)"
    class="form-control" 
    id="textarea2" 
    maxlength="4000" >@BelarusianTxt</textarea>

@code {

    private string? ChineseTxt { get; set; }
    private string? BelarusianTxt { get; set; }

    private string GetValue(string ChineseValue)
    {
        var tmpString = ChineseValue ?? string.Empty;
        var upperCase = GetUpperCase();
        var letterCombinations = GetLetterCombinations();
        var singleLetters = GetSingleLetters();
        foreach (var uc in upperCase)
        {
            tmpString = tmpString.Replace(uc.Key, uc.Value);
        }
        foreach (var lc in letterCombinations)
        {
            tmpString = tmpString.Replace(lc.Key, lc.Value);
        }
        foreach (var sl in singleLetters)
        {
            tmpString = tmpString.Replace(sl.Key, sl.Value);
        }
        return tmpString;
    }

    private IDictionary<string, string> GetUpperCase()
    {
        var dict = new Dictionary<string, string>();

        // Belarusian (BGN PCGN 1979) Latin
        // Chinese (Simplified, China, 五, 五笔)
        // Google Input Tools
        // https://www.google.com/inputtools/chrome/		
        //                        // keyboard:
        dict.Add("多主有", "Е");    // qq y e
        dict.Add("多主为", "Ё");    // qq y o
        dict.Add("多你上", "Ж");    // qq zz h
        dict.Add("多中上", "З");    // qq k h
        dict.Add("多和要", "Ц");    // qq t s
        dict.Add("多以上", "Ч");    // qq c h
        dict.Add("多要上", "Ш");    // qq s h
        dict.Add("多主产", "Ю");    // qq y u
        dict.Add("多主工", "Я");    // qq y a

        dict.Add("多工", "А");     // qq a
        dict.Add("多了", "Б");     // qq b
        dict.Add("多发", "В");     // qq v
        dict.Add("多一", "Г");     // qq g
        dict.Add("多在", "Д");     // qq d
        dict.Add("多你", "З");     // qq zz
        dict.Add("多不", "I");     // qq i
        dict.Add("多是", "Й");     // qq j
        dict.Add("多中", "К");     // qq k
        dict.Add("多国", "Л");     // qq l
        dict.Add("多同", "М");     // qq m
        dict.Add("多民", "Н");     // qq n
        dict.Add("多为", "О");     // qq o
        dict.Add("多这", "П");     // qq p
        dict.Add("多的", "Р");     // qq r
        dict.Add("多要", "С");     // qq s
        dict.Add("多和", "Т");     // qq t
        dict.Add("多产", "У");     // qq u
        dict.Add("多人", "Ў");     // qq w
        dict.Add("多地", "Ф");     // qq f
        dict.Add("多主", "Ы");     // qq y
        dict.Add("多经", "Ь");     // qq x
        dict.Add("多有", "Э");     // qq e
        dict.Add("多以", "[К|С]"); // qq c
        dict.Add("多上", "[Х]"); // qq h
        return dict;
    }

    private IDictionary<string, string> GetLetterCombinations()
    {
        var dict = new Dictionary<string, string>();

        // Belarusian (BGN PCGN 1979) Latin
        // Chinese (Simplified, China, 五, 五笔)
        // Google Input Tools
        // https://www.google.com/inputtools/chrome/		
        //                        // keyboard:
        dict.Add("主有", "е");    // y e
        dict.Add("主为", "ё");    // y o
        dict.Add("你上", "ж");    // zz h
        dict.Add("中上", "х");    // k h
        dict.Add("和要", "ц");    // t s
        dict.Add("以上", "ч");    // c h
        dict.Add("要上", "ш");    // s h
        dict.Add("主产", "ю");    // y u
        dict.Add("主工", "я");    // y a
        return dict;
    }
    private IDictionary<string, string> GetSingleLetters()
    {
        var dict = new Dictionary<string, string>();

        // Belarusian (BGN PCGN 1979) Latin
        // g = г
        // j = й
        // ь = x
        // ’ = q
        // ъ = q
        // [к|с] = c
        // [х] = h 
        // Chinese (Simplified, China, 五, 五笔)
        // Google Input Tools
        // https://www.google.com/inputtools/chrome/		
        //                       // keyboard:
        dict.Add("工", "а");     // a
        dict.Add("了", "б");     // b
        dict.Add("发", "в");     // v
        dict.Add("一", "г");     // g
        dict.Add("在", "д");     // d
        dict.Add("你", "з");     // zz
        dict.Add("不", "і");     // i
        dict.Add("是", "й");     // j
        dict.Add("中", "к");     // k
        dict.Add("国", "л");     // l
        dict.Add("同", "м");     // m
        dict.Add("民", "н");     // n
        dict.Add("为", "о");     // o
        dict.Add("这", "п");     // p
        dict.Add("的", "р");     // r
        dict.Add("要", "с");     // s
        dict.Add("和", "т");     // t
        dict.Add("产", "у");     // u
        dict.Add("人", "ў");     // w
        dict.Add("地", "ф");     // f
        dict.Add("主", "ы");     // y
        dict.Add("经", "ь");     // x
        dict.Add("我", "’");     // q
        dict.Add("有", "э");     // e
        dict.Add("以", "[к|с]"); // c
        dict.Add("上", "[х]"); // h

        dict.Add("，", ",");
        dict.Add("。", ".");
        dict.Add("（", "(");
        dict.Add("）", ")");
        dict.Add("；", ";");
        dict.Add("【", "[");
        dict.Add("】", "]");
        dict.Add("：", ":");
        dict.Add("！", "!");
        dict.Add("？", "?");
		dict.Add("》", ">");
		dict.Add("《", "<");
        return dict;
    }
}