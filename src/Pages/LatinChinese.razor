@page "/Latin-to-Chinese"

<PageTitle>Latin -> Chinese</PageTitle>

<textarea 
    onkeydown="textControl(this,event)"
    class="form-control" 
    id="textarea1" 
    value="@LatinTxt" 
    @oninput="@((ChangeEventArgs e) => ChineseTxt = GetValue(e?.Value?.ToString() ?? string.Empty))" />

<textarea 
    onkeydown="textControl(this,event)"
    class="form-control" 
    id="textarea2" >@ChineseTxt</textarea>

@code {

    private string? ChineseTxt { get; set; }
    private string? LatinTxt { get; set; }

    private string GetValue(string LatinValue)
    {
        var dict = GetDictionary();
        var tmpString = LatinValue.ToLower() ?? string.Empty;
        foreach (var d in dict)
        {
            tmpString = tmpString.Replace(d.Key, d.Value);
        }
        return tmpString;
    }

    private IDictionary<string, string> GetDictionary()
    {
        var dict = new Dictionary<string, string>();

        // Chinese (Simplified, China, 五, 五笔)
        // Google Input Tools
        // https://www.google.com/inputtools/chrome/		
        // 	                    // keyboard:
        dict.Add("a", "工");		// a
        dict.Add("b", "了");		// b
        dict.Add("c", "以");		// c
        dict.Add("d", "在");		// d
        dict.Add("e", "有");		// e
        dict.Add("f", "地");		// f
        dict.Add("g", "一");		// g
        dict.Add("h", "上");		// h
        dict.Add("i", "不");		// i
        dict.Add("j", "是");		// j
        dict.Add("k", "中");		// k
        dict.Add("l", "国");		// l
        dict.Add("m", "同");		// m
        dict.Add("n", "民");		// n
        dict.Add("o", "为");		// o
        dict.Add("p", "这");		// p
        dict.Add("q", "我");		// q
        dict.Add("r", "的");		// r
        dict.Add("s", "要");		// s
        dict.Add("t", "和");		// t
        dict.Add("u", "产");		// u
        dict.Add("v", "发");		// v
        dict.Add("w", "人");		// w
        dict.Add("x", "经");		// x
        dict.Add("y", "主");		// y
        dict.Add("z", "你");		// zz
        dict.Add("'", "‘");
        dict.Add("\"", "“");
        dict.Add(",", "，");
        dict.Add(".", "。");
        dict.Add("(", "（");
        dict.Add(")", "）");
        dict.Add(";", "；");
        dict.Add("[", "【");
        dict.Add("]", "】");
        dict.Add(":", "：");
        dict.Add("!", "！");
        dict.Add("?", "？");
		dict.Add(">", "》");
		dict.Add("<", "《");

        return dict;
    }
}

